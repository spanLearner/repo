const questions = [
    {
        question: "Who advises the government of India on legal matters ?",
        optionA: "Attorney General",
        optionB: "Chief Justice of the Supreme Court",
        optionC: "Chairman law commission",
        optionD: "none of them",
        description:'this is first description',
        correctOption: "optionA"
    },

    {
        question: "Who among the following holds his/her office during the pleasure of the president ?",
        optionA: "Attorney General",
        optionB: "CAG",
        optionC: "Speaker of Lok sabha",
        optionD: "none of them",
        description:'this is second description',
        correctOption: "optionA"
    },

    {
        question: "How is the Attorney General of india appointed ?",
        optionA: "By the Parliament",
        optionB: "By the President",
        optionC: "By the president on the recommendation of the parliament",
        optionD: "none of these",
        correctOption: "optionB"
    },

    {
        question: "Who amongst the following is considered to be the first law officer  ?",
        optionA: "Chief Jusitice of India",
        optionB: "Solicitor General",
        optionC: "Attorney General",
        optionD: "none of these",
        correctOption: "optionC"
    },

    {
        question: "The attorney General is Legal Advisior to?",
        optionA: "none of these",
        optionB: "President",
        optionC: "Prime Minister",
        optionD: "Government Of India",
        correctOption: "optionD"
    },

    {
        question: "Who among the following shall have the right of audience in all courts in the territory of India in the performance of his duties ?",
        optionA: "Advocates General",
        optionB: "Attorney General ",
        optionC: " Additional Advocates General",
        optionD: " None of above",
        correctOption: "optionB"
    },

    {
        question: "Consider the following statement about the attorney General of india ?<p>1. He is appointed by the Presidnet of india </p>  <p> 2. he must have the same qualifications as are required for a judge of the supreme Court .</p> 3.he must be a memeber of either house of parliament 4. he can be removed by impeachment by parliament",
        optionA: "1 and 2",
        optionB: "1 and 3",
        optionC: "2,3 and 4",
        optionD: "3 and 4 ",
        correctOption: "optionA"
    },

    {
        question: "Who among the following has a right to speak and otherwise take part in the proceedings of the either hosue of the parliament and to eb a memebr of any parliamentary committee but is not entitled to vote ?",
        optionA: "Advocates General",
        optionB: "Attorney General ",
        optionC: " Additional Advocates General",
        optionD: " None of above",
        correctOption: "optionB"
        
    },

    {
        question: "Solicitor General of India is a ?",
        optionA: "Government advocate",
        optionB: "the legal officer of president ",
        optionC: "legal advisor",
        optionD: "administrative officer",
        correctOption: "optionC"
    },

    {
        question:"The official legal advisor of state government is ?",
        optionA: "the chief justice",
        optionB: "Attorney general ",
        optionC: "a bench of high court ",
        optionD: "advocate general",
        correctOption: "optionD"
    },

    {
        question: "the CAG is appointed by ?",
        optionA: "president",
        optionB: "Speaker of Lok Sabha",
        optionC: "Chairman of Planning commission",
        optionD: "Finance minister",
        correctOption: "optionA"
    },

    {
        question: "Under which article of the indian constituion is teh comptorller and auditor general of india appointed ?",
        optionA: "Article 146",
        optionB: "Article 147",
        optionC: "148",
        optionD: "149",
        correctOption: "optionC"
    },


    {
        question: "The reports of the CAG and auditor general of india relating to the accounts fo the union are submitted first of all to which of the following ?",
        optionA: "The chaiman of public accounts committee",
        optionB: "speaker of lok sabha",
        optionC: "Law minister of india",
        optionD: "President of india",
        correctOption: "optionD"
    },

    {
        question: "The office of the comptroller and auditor general of india was created  ?",
        optionA: "Through an act of the parliament",
        optionB: "By the constitution",
        optionC: "Through a cabinet resolution",
        optionD: "None of the above",
        correctOption: "optionB"
    },

    {
        question: "The tenure of CAG is ..........years ?",
        optionA: "6",
        optionB: "4",
        optionC: "5",
        optionD: "7",
        correctOption: "optionA"
    },

    {
        question: "Which of the following is not true about the CAG ? ",
        optionA: "he is appointed by the president",
        optionB: "His salary is equal to that of the judge of supreme court",
        optionC: "He is disqualified for any further govenment office after retirement",
        optionD: "he can be removed by the president",
        correctOption: "optionD"
    },

    {
        question: "The CAG of india can be removed from his office in like manner as ?",
        optionA: "Speaker of lok sabha",
        optionB: "attorney general of india",
        optionC: "judge of supreme court",
        optionD: "chairman of union public service commission",
        correctOption: "optionC"
    },

    {
        question: "Which one of the following duties is not performed by CAG ?",
        optionA: "To audit and report on all expenditure fome the consolidated fund of india",
        optionB: " To audit and report on all expenditure from the contingency fund and public accounts",
        optionC: "To audit and report on all trading, manufacturing, profit and loss accounts",
        optionD: "To control the receipt and issue of public money, and to ensure that the public revenue is lodged in the exchequer",
        correctOption: "optionD"
    },

    {
        question: "In india, other than ensuring that public funds are used efficiently and for the intended purpose, what is the importance of the office of the comptroller and auditor general ?",
        optionA: "CAG exercises exchequer control on behalf of teh parliament when the president of india declares national emergency/ financial emergency",
        optionB: "CAg reports on the execution of projects or programmes by the ministries are discussed by the public accouts committee",
        optionC: "information from CAG reports can be used by investigating agencies to press charges against those who have violated the law while managing public finances ",
        optionD: "While dealing with the audit and accounting of government companies CAG has certain judicial powers for prosecuting those who violate the law",
        correctOption: "optionB"
    },

    {
        question: "The ultimate responsibility of taking due action on the comments of the CAG vests with ?",
        optionA: "The President",
        optionB: "Supreme court",
        optionC: "Parliament",
        optionD: "National development council",
        correctOption: "optionC"
    },

    {
        question: "Who amongst the following attends the meetings of the Public accounts committee of the parliament ?",
        optionA: "Attorney general",
        optionB: "Solicitor general",
        optionC: "CAG",
        optionD: "none",
        correctOption: "optionC"
    },

    {
        question: "Which article of the constitution prescribes the duties of CAG ?",
        optionA: "146",
        optionB: "149",
        optionC: "148",
        optionD: "147",
        correctOption: "optionB"
    },

    {
        question: "CAG is a friend and guide of?",
        optionA: "Select committee",
        optionB: "Estimates committee",
        optionC: "Prime minister",
        optionD: "Public accounts committee",
        correctOption: "optionD"
    },

    {
        question: "Who is the guardian of public purse?",
        optionA: "President",
        optionB: "CAG",
        optionC: "Parliament",
        optionD: "Council of minister",
        correctOption: "optionB"
    },
    {
        question: "Which of the following option is not correct ? <p> Public finance studies financial activities of the government. it consists of...</p>",
        optionA: "Analysis of the Public Expenditure",
        optionB: "Public revenue",
        optionC: "Financial Administration",
        optionD: "Functioning of commercial bank",

        correctOption: "optionD"

    },
    {
        question: "Girish Chandra murmu has become india's CAG",
        optionA: "12th",
        optionB: "13",
        optionC: "14",
        optionD: "17",
        correctOption: "optionB"
    },
    
    {
        question: "The amendment to CAg duties, powers and condition of service act 1971 seprates accounts from audit and relieves the CAG of his responsibility in the matters of preparation of accounts. the amendments were made in the year ?",
        optionA: "1972",
        optionB: "1980",
        optionC: "1976",
        optionD: "1987",
        correctOption: "optionC"
    },

    {
        question: "Consider the following statement ?  <p> 1. the advocate general of a state in india is appointed by the presiden of india on recommendation of the governor of the concerned state</p> <p> 2. As provided in Civil procedure code,high courts have original appellate and advisory jurisdiction at the state level.</p> <p>Which of the following statement are true</p>",
        optionA: "only 1",
        optionB: "2 only",
        optionC: "both ",
        optionD: "none",
        correctOption: "optionC"
    }

]


let shuffledQuestions = [] //empty array to hold shuffled selected questions

function handleQuestions() { 
    //function to shuffle and push 10 questions to shuffledQuestions array
    // while (shuffledQuestions.length <= 20) {
    //     const random = questions[Math.floor(Math.random() * questions.length)]
    //     if (!shuffledQuestions.includes(random)) {
    //         shuffledQuestions.push(random)
    //     }
    // }
// question[1]
    shuffledQuestions=questions;
}


let questionNumber = 0
let playerScore = 0  
let wrongAttempt = 0 
let indexNumber = 0

// function for displaying next question in the array to dom
function NextQuestion(index) {
    handleQuestions()
    const currentQuestion = shuffledQuestions[index]
    document.getElementById("question-number").innerHTML = questionNumber
    document.getElementById("player-score").innerHTML = playerScore
    document.getElementById("display-question").innerHTML = currentQuestion.question;
    document.getElementById("option-one-label").innerHTML = currentQuestion.optionA;
    document.getElementById("option-two-label").innerHTML = currentQuestion.optionB;
    document.getElementById("option-three-label").innerHTML = currentQuestion.optionC;
    document.getElementById("option-four-label").innerHTML = currentQuestion.optionD;

}


function showDescription(){
    const currentQuestion = shuffledQuestions[indexNumber] //gets current Question 
    document.getElementById('qdesc').innerHTML='Description: ' + currentQuestion.description;
}

function checkForAnswer() {
    const currentQuestion = shuffledQuestions[indexNumber] //gets current Question 
    const currentQuestionAnswer = currentQuestion.correctOption //gets current Question's answer
    const options = document.getElementsByName("option"); //gets all elements in dom with name of 'option' (in this the radio inputs)
    let correctOption = null

    options.forEach((option) => {
        if (option.value === currentQuestionAnswer) {
            //get's correct's radio input with correct answer
console.log( option.labels[0].id)
            correctOption = option.labels[0].id
        }
    })


   
    //checking to make sure a radio input has been checked or an option being chosen
    if (options[0].checked === false && options[1].checked === false && options[2].checked === false && options[3].checked == false) {
        document.getElementById('option-modal').style.display = "flex"
        console.log('IN check 1.....')
        // document.getElementById('qdesc').innerHTML='this is the description......'
    }

    //checking if checked radio button is same as answer
    options.forEach((option) => {
        if (option.checked === true && option.value === currentQuestionAnswer) {
            document.getElementById(correctOption).style.backgroundColor = "green"
            playerScore++
            indexNumber++
            //set to delay question number till when next question loads
            setTimeout(() => {
                questionNumber++
            }, 1000)
        }

        else if (option.checked && option.value !== currentQuestionAnswer) {
            const wrongLabelId = option.labels[0].id
            document.getElementById(wrongLabelId).style.backgroundColor = "red"
            document.getElementById(correctOption).style.backgroundColor = "green"
            wrongAttempt++
            indexNumber++
            //set to delay question number till when next question loads
            setTimeout(() => {
                questionNumber++
            }, 1000)
        }
    })
}



//called when the next button is called
function handleNextQuestion() {
    checkForAnswer()
    unCheckRadioButtons()
    //delays next question displaying for a second
    setTimeout(() => {
        if (indexNumber <= 20) {
            NextQuestion(indexNumber)
        }
        else {
            handleEndGame()
        }
        resetOptionBackground()
    }, 1000);
}

//sets options background back to null after display the right/wrong colors
function resetOptionBackground() {
    const options = document.getElementsByName("option");
    options.forEach((option) => {
        document.getElementById(option.labels[0].id).style.backgroundColor = ""
    })
}

// unchecking all radio buttons for next question(can be done with map or foreach loop also)
function unCheckRadioButtons() {
    const options = document.getElementsByName("option");
    for (let i = 0; i < options.length; i++) {
        options[i].checked = false;
    }
}

// function for when all questions being answered
function handleEndGame() {
    let remark = null
    let remarkColor = null

    // condition check for player remark and remark color
    if (playerScore <= 3) {
        remark = "Bad Grades, Keep Practicing."
        remarkColor = "red"
    }
    else if (playerScore >= 4 && playerScore < 7) {
        remark = "Average Grades, You can do better."
        remarkColor = "orange"
    }
    else if (playerScore >= 7) {
        remark = "Excellent, Keep the good work going."
        remarkColor = "green"
    }
    const playerGrade = (playerScore / 20) * 100

    //data to display to score board
    document.getElementById('remarks').innerHTML = remark
    document.getElementById('remarks').style.color = remarkColor
    document.getElementById('grade-percentage').innerHTML = playerGrade
    document.getElementById('wrong-answers').innerHTML = wrongAttempt
    document.getElementById('right-answers').innerHTML = playerScore
    document.getElementById('score-modal').style.display = "flex"

}

//closes score modal and resets game
function closeScoreModal() {
    questionNumber = 1
    playerScore = 0
    wrongAttempt = 0
    indexNumber = 0
    shuffledQuestions = []
    NextQuestion(indexNumber)
    document.getElementById('score-modal').style.display = "none"
}

//function to close warning modal
function closeOptionModal() {
    document.getElementById('option-modal').style.display = "none"
}